<!doctype html>

<style>
    body {
        margin: 0;
    }

    table {
        border-collapse: collapse;
    }

    td {
        width: 4px;
        height: 4px;
        padding: 0;
    }

    div {
        width: 4px;
        height: 4px;
        background: black;
    }

    .color1 {
        opacity: 1;
    }

    .color2 {
        opacity: 0;
    }
</style>

<table id="test"></table>
<p id="time"></p>
<script>
    var table = document.getElementById("test");
    for (var i = 0; i < 200; i++) {
        var tr = document.createElement("tr");
        for (var j = 0; j < 200; j++) {
            var td = document.createElement("td");
            var div = document.createElement("div");
            div.classList.add((i + j) % 2 ? "color1" : "color2");
            td.appendChild(div);
            tr.appendChild(td);
        }
        table.appendChild(tr);
    }
    setInterval(() => {
        var start = new Date()
        Array.prototype.forEach.call(table.children, (tr) => {
            Array.prototype.forEach.call(tr.children, (td) => {
                if (td.children[0].classList.value === 'color1') {
                    td.children[0].classList.value = 'color2';
                } else {
                    td.children[0].classList.value = 'color1';
                }
            })
        })
        document.getElementById("time").innerText = (new Date() - start);
    }, 1);
</script>